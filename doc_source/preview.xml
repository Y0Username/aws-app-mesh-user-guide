<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "file://zonbook/docbookx.dtd"
[
    <!ENTITY % xinclude SYSTEM "file://AWSShared/common/xinclude.mod">
    %xinclude;
    <!ENTITY % phrases-shared SYSTEM "file://AWSShared/common/phrases-shared.ent">
    %phrases-shared;
    <!ENTITY % phrases-appmesh SYSTEM "../shared/phrases-app-mesh.ent"> 
    %phrases-appmesh;
]>
<chapter role="topic" id="preview">
    <info>
        <title id="preview.title">&MESH; &preview-name;</title>
        <titleabbrev>&preview-name;</titleabbrev>
    </info>
    <para>The &MESH; &preview-name; is a distinct variant of the &MESH; service provided in the
            <code>us-west-2</code> Region. The &preview-name; exposes upcoming features for you to
        try as they are developed. As you use features in the &preview-name;, you can provide
        feedback via GitHub to shape how the features behave. Once a feature has complete
        functionality in the &preview-name;, with all of the necessary integrations and checks
        completed, it will graduate to the production &MESH; service.</para>
    <para>The &MESHlong; &preview-name; is a <emphasis role="italic">Beta Service</emphasis> and all
        features are <emphasis role="italic">previews</emphasis>, as those terms are defined in the
            <ulink type="marketing" url="service-terms">&AWS; Service Terms</ulink>. Your
        participation in the &preview-name; is governed by your Agreement with &AWS; and the &AWS;
        Service Terms, in particular, the Universal and Beta Service Participation terms, and is
        confidential. </para>

    <para>The following questions are frequently asked about the &preview-name;.</para>
    <collapsible>
        <section id="what-is">
            <info>
                <title id="what-is.title">What is the &preview-name;?</title>
            </info>
            <para>The &preview-name; is a public service endpoint that allows you to try out and
                provide feedback on new service features before they are generally available. The
                service endpoint for the &preview-name; is separate from the standard production
                endpoint. You interact with the endpoint by using the &CLI;, a service model file
                for the &preview-name;, and command input files for the &CLI;. The &preview-name;,
                allows you to try new features without impacting your current production
                infrastructure. You're encouraged to <link linkend="provide-feedback">provide
                    feedback</link> to the &MESH; team to help ensure that &MESH; meets customers'
                most important requirements. Your feedback on features while they're in the
                &preview-name; can help shape the features of &MESH; so that we can deliver the best
                possible service.</para>
        </section>
        <section id="differences">
            <info>
                <title id="differences.title">How is the &preview-name; different from production
                    &MESH;?</title>
            </info>
            <para>The following table lists aspects of the &MESH; service that are different from
                the &preview-name;.</para>
            <table style="border-collapse: collapse;">
                <tbody>
                    <tr>
                        <th rowspan="1" colspan="1">Aspect</th>
                        <th rowspan="1" colspan="1">&MESH; production service</th>
                        <th rowspan="1" colspan="1">&MESH; &preview-name; service </th>
                    </tr>
                    <tr>
                        <td rowspan="1" colspan="1">Frontend endpoint</td>
                        <td rowspan="1" colspan="1">appmesh.us-west-2.amazonaws.com</td>
                        <td rowspan="1" colspan="1">appmesh-preview.us-west-2.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td rowspan="1" colspan="1">Envoy management service endpoint</td>
                        <td rowspan="1" colspan="1"
                            >appmesh-envoy-management.us-west-2.amazonaws.com</td>
                        <td rowspan="1" colspan="1"
                            >appmesh-preview-envoy-management.us-west-2.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td rowspan="1" colspan="1">CLI</td>
                        <td rowspan="1" colspan="1">aws appmesh list-meshes</td>
                        <td rowspan="1" colspan="1">aws appmesh-preview list-meshes (only available
                            after adding the &preview-name; service model)</td>
                    </tr>
                    <tr>
                        <td rowspan="1" colspan="1">Signing name</td>
                        <td rowspan="1" colspan="1">appmesh</td>
                        <td rowspan="1" colspan="1">appmesh-preview</td>
                    </tr>
                    <tr>
                        <td rowspan="1" colspan="1">Service principal</td>
                        <td rowspan="1" colspan="1">appmesh.amazonaws.com</td>
                        <td rowspan="1" colspan="1">appmesh-preview.amazonaws.com</td>
                    </tr>
                </tbody>
            </table>
            <note>
                <para>Though the example in the table for the &MESH; production service lists the <code>us-west-2</code>
     Region, the production service is available in most Regions. For a list of all Regions that the &MESH; production
     service is available in, see <ulink type="documentation" url="general/latest/gr/appmesh.html">&MESHlong; Endpoints
      and Quotas</ulink>. However, the &MESH; &preview-name; service is available only in the <code>us-west-2</code>
     Region. </para>
            </note>
        </section>
        <section id="try-out">
            <info>
                <title id="try-out.title">How can I use features in the &preview-name;?</title>
            </info>
            <procedure>
                <step>
                    <para>Add the &preview-name; service model that includes the &preview-name;
                        feature to the &CLI; with the following command.</para>
                    <programlisting><userinput>aws configure add-model \
    --service-name appmesh-preview \
    --service-model https://raw.githubusercontent.com/aws/aws-app-mesh-roadmap/main/appmesh-preview/<replaceable>service-model</replaceable>.json</userinput></programlisting>
                </step>

                <step>
                    <para>Create a JSON file that includes the feature, based on the JSON example
                        and instructions provided in the &link-mesh-user; for the feature.</para>
                </step>
                <step>
                    <para>Implement the feature with the appropriate &CLI; command and command input
                        file. For example, the following command creates a route with &preview-name;
                        features using the <replaceable>route.json</replaceable> file.</para>
                    <programlisting><userinput>aws appmesh-preview create-route --cli-input-json file://<replaceable>route.json</replaceable></userinput></programlisting>
                </step>
                <step>
                    <para>Add <code>APPMESH_PREVIEW = 1</code> as a configuration variable for the
                        Envoy container when adding it to your &ECS; task definitions, Kubernetes
                        Pod specifications, or &EC2; instances. This variable enables the Envoy
                        container to communicate with the &preview-name; endpoints. For more
                        information about adding configuration variables, see <ulink
                            type="documentation"
                            url="AmazonECS/latest/developerguide/appmesh-getting-started.html#update-services"
                            >Updating services in &ECS;</ulink>, <ulink type="documentation"
                            url="eks/latest/userguide/appmesh-getting-started.html#update-services"
                            >Updating services in Kubernetes</ulink>, and <ulink type="documentation"
                                url="app-mesh/latest/userguide/appmesh-getting-started.html#update-services"
                            >Updating services on &EC2;</ulink>.</para>
                </step>
            </procedure>
        </section>
        <section id="provide-feedback">
            <info>
                <title id="provide-feedback.title">How do I provide feedback?</title>
            </info>
            <para>You can provide feedback directly on the <ulink
                    url="https://github.com/aws/aws-app-mesh-roadmap/issues">&MESH; roadmap GitHub
                    repo</ulink> issue that is linked from the documentation about the
                feature.</para>
        </section>
        <section id="feedback-duration">
            <info>
                <title id="feedback-duration.title">How long do I have to provide feedback on a
                    feature in the &preview-name;?</title>
            </info>
            <para>The feedback period will vary depending on the size and complexity of the feature
                being introduced. We intend to give a comment period of 14 days between
                release of a feature to the preview endpoint and release of the feature to
                production. The &MESH; team may extend the feedback period for specific
                features.</para>
        </section>
        <section id="support">
            <info>
                <title id="support.title">What level of support is provided for the
                    &preview-name;?</title>
            </info>
            <para>While we encourage you to provide feedback and bug reports directly on the &MESH;
                    <ulink url="https://github.com/aws/aws-app-mesh-roadmap/issues">GitHub roadmap
                    issue</ulink>, we understand that you may have sensitive data to share, or you
                may find an issue that you do not feel is safe to disclose publicly. For these
                issues, you can contact &SUP; or email the &MESH; team directly at <ulink
                    url="mailto:aws-appmesh-feedback@amazon.com">
                    aws-appmesh-feedback@amazon.com</ulink>.</para>
        </section>
        <section id="data-security">
            <info>
                <title id="data-security.title">Is my data secure on the &preview-name;
                    endpoint?</title>
            </info>
            <para>Yes. The &preview-name; is given the same level of security as the standard
                production endpoint.</para>
        </section>
        <section id="data-durability">
            <info>
                <title id="data-durability.title">How long will my configuration be
                    available?</title>
            </info>
            <para>You can work with a mesh in the &preview-name; for thirty days. Thirty days after
                a mesh is created, you can only list, read, or delete the mesh. If you attempt to
                create or update resources after thirty days, you'll receive a
                    <code>BadRequest</code> exception explaining that the mesh is archived. </para>
        </section>
        <section id="tools">
            <info>
                <title id="tools.title">What tools can I use to work with the
                    &preview-name;?</title>
            </info>
            <para>You can use the &CLI; with a &preview-name; service model file and command input
                files. For more information about how to work with features, see <link
                    linkend="try-out" endterm="try-out.title"/>. You cannot use &CLI; command
                options, the &console;, SDKs, or &CFNlong; to work with &preview-name; features. You
                can use all tools however, once a feature is released to the production
                service.</para>
        </section>
        <section id="forward-compatibility">
            <info>
                <title id="forward-compatibility.title">Will there be forward compatibility of
                    &preview-name; APIs?</title>
            </info>
            <para>No. APIs may change based on feedback.</para>
        </section>
        <section id="feature-completeness">
            <info>
                <title id="feature-completeness.title">Are &preview-name; features complete?</title>
            </info>
            <para>No. New API objects may not be fully integrated into the &console;, &CFN;, or
                &CTlong;. As features solidify in the &preview-name; and near general availability,
                the integrations will eventually become available.</para>
        </section>
        <section id="documentation">
            <info>
                <title id="documentation.title">Is documentation available for &preview-name;
                    features?</title>
            </info>
            <para>Yes. Documentation for &preview-name; features is included in the production
                documentation. For example, if features for the route resource are released to the
                &preview-name;, information about how to use the features would be in the existing
                    <link linkend="routes">route</link> resource document. &preview-name; features
                are labeled as only available in the &preview-name;.</para>
        </section>
        <section id="new-features">
            <info>
                <title id="new-features.title">How will I know when new features are available in
                    the &preview-name;?</title>
            </info>
            <para>When new features are introduced in the &preview-name;, an entry is added to the
                    <ulink type="documentation" url="app-mesh/latest/userguide/doc-history.html">&MESH; Document History</ulink>.
                You can review the page regularly or subscribe to the <ulink type="documentation"
                    url="app-mesh/latest/userguide/app-mesh-ug.rss">&MESH; Document History RSS feed</ulink>.
                Additionally, you can review the <ulink
                    url="https://github.com/aws/aws-app-mesh-roadmap/issues">issues</ulink> for the
                aws-app-mesh-roadmap GitHub repo. A download link for the &preview-name; service
                model JSON file is added to an issue when it releases to the &preview-name;. For
                more information about how to use the model and feature, see <link linkend="try-out"
                    endterm="try-out.title"/>.</para>
        </section>
        <section id="feature-status">
            <info>
                <title id="feature-status.title">How will I know when a feature has graduated to the
                    production service?</title>
            </info>
            <para>The text in the &MESH; documentation noting that the feature is available only in
                the &preview-name; is removed, and an entry is added to the <ulink type="documentation"
                    url="app-mesh/latest/userguide/doc-history.html">&MESH; Document History</ulink>. You can
                review the page regularly or subscribe to the <ulink type="documentation"
                    url="app-mesh/latest/userguide/app-mesh-ug.rss">&MESH; Document History RSS
                feed</ulink>.</para>
        </section>
    </collapsible>

</chapter>
